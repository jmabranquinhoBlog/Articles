<!-- react -->
<h1>How to create a free blog using Github</h1>
<p>Most blogs are created using Wordpress or some other piece of technology. Some blogs are created from scratch and need to be hosted somewhere, where you typically pay a hosting fee. Recently, I decided to create my own blog but instead of using a free technology which could end up limiting my creativity, I decided to try using Github as my hosting server. I also decided to go with this approach because this way I’ll learn React and eventually other technologies. In this article I'll share some code and talk about how I created this blog. Keep in mind I'm still inexperienced with React and that I may end up changing the code. Because of this, I don’t recommend copy-pasting any of this source. Later I can add a link for an updated Github repo with any subsequent change I decide to do. </p>
<p>First things first: the plan. We want to have a page in Github that will be able to query one or more repositories across one or more branches to extract HTML articles. I opted on having all the articles in the same repository, but you can choose to have multiple repositories for each article. In my case, the main branch will contain all the articles. Articles will be tagged by category which will be embedded in the article's HTML. For each tag I'll create the corresponding branch with the same name and cherry pick the articles. That way, by changing branches we are filtering by tag. <a href="https://docs.github.com/en/rest/ ">Github's Api</a> allows us to select which branch we want to get the files from. </p>
<p>Moving on to coding, we need to create a new react project. First, we choose a location on the disk, open a command prompt there and type: <code>npx create-react-app my-app --template typescript</code> replacing “my-app” with the name of your blog project. You can also choose if you want to use typescript like I did. I prefer vanilla javascript since I’m used to strongly typed languages. </p>
 
<p>The result is a react project that we can test by running: <code>npm run</code> inside the newly created folder on the command prompt. If you have used React, Angular ou Vue before this part is straightforward otherwise if you find any issue there are a ton of tutorials and detailed explanations about this process. </p>
<p>Having the boilerplate code already setup, we can now start coding. Since there are lots of tutorials on how the generated code is structured, I'll skip any detailed explanations regarding that and how to use visual code. Without going into the details, the most important part of this app is the App.tsx which is the core of our application. </p>
<p>In this simple app, App.tsx acts as a wrapper around our main component, containing only the navbar with the page name and centering the content in the middle of the page. Next, we will be creating a component to fetch and show the articles. </p>
<Test url="https://gist.githubusercontent.com/jmabranquinhoBlog/e5f7c9ea17a93d2c2e1da0daa5135822/raw/ed743dd38299db218530afcc42f144cb8036054d/10-07-21-App.tsx"></Test>
<p>I named BlogEntryList to the inner component responsible for fetching and displaying the articles. You can do that by adding a new file named BlogEntryList.tsx into your project. This component uses the useEffect hook to fetch data as soon as the page loads. Without entering too much in details, that function will execute its code each time a change is made to the second parameter (yup, that empty array). So, since we got a static object, it will be executed only once. </p>
<script src="https://gist.github.com/jmabranquinhoBlog/e158b0efd79d76e7c5ed94e66fafe573.js"></script>
<p>The next piece of logic we need is to know which branch we will need to query. Previously I mentioned we will be filtering the articles by tag which relates to the branch. To filter we will be using the page's URL, if it is just the domain, we can assume we are querying the main branch (no filtering) otherwise we can just use the URL and filter by its keyword. </p>
<p>In the next piece of code, I’m using <a href="https://docs.github.com/en/rest/reference/repos#contents">Github's Api</a> to gather all the articles that we currently have in the repository. I will use <a href="https://axios-http.com/docs/intro">Axios</a> to ease our job. The GET request will provide us with the name of the article as well as it's download URL, among other data. Then, we just need to decide how many of these articles we will want to fetch and render by mapping all the download URLs and filtering out the ones we don’t need. The next step is to fetch each of those articles and await the response containing the HTML and associate it to the correct article. </p>
<script src="https://gist.github.com/jmabranquinhoBlog/dc273cd5e7b286ec488ae3dd772c731d.js"></script>
<p>I added some additional details such as sorting by creation date and managing tags</p>
<p>For the tags, I start each HTML with a commented line containing the tags and then the rest of the HTML file. So now we just need to process the first commented line and extract the tags from it. </p>
<p>After this step the component is ready to be rendered, with some simple processing the HTML is rendered inside a div, like in an iframe, and I also created some chips for each of the tags. I used useState to store data such as the articles fetched and other minor details like simple pagination logic, an interface for the articles, a loading spinner, etc.</p>
<p>Here’s the final result:</p>
<script src="https://gist.github.com/jmabranquinhoBlog/01e6e223c1844a7eb5c2bc636fa57509.js"></script>
<p>Just tweak the CSS to your liking and congratulations you now have a working blog! The next step is to test it by adding some HTML files to your repo. Any suggestions are welcomed :D</p>
<p>Hope you liked this type of content, this was my first entry and it was a little bit meta but if you want to see more stay tuned. </p>
